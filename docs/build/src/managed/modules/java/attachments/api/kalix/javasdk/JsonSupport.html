<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>JsonSupport</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JsonSupport";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">kalix.javasdk</a></div>
<h2 title="Class JsonSupport" class="title">Class JsonSupport</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>Object</li>
<li>
<ul class="inheritance">
<li>kalix.javasdk.JsonSupport</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public final class <span class="typeNameLabel">JsonSupport</span>
extends Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#KALIX_JSON">KALIX_JSON</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;T</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#decodeJson(java.lang.Class,com.google.protobuf.Any)">decodeJson</a></span>&#8203;(Class&lt;T&gt;&nbsp;valueClass,
          com.google.protobuf.Any&nbsp;any)</code></th>
<td class="colLast">
<div class="block">Decode the given protobuf Any object to an instance of T using Jackson.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;java.util.Optional&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#decodeJson(java.lang.Class,java.lang.String,com.google.protobuf.Any)">decodeJson</a></span>&#8203;(Class&lt;T&gt;&nbsp;valueClass,
          String&nbsp;jsonType,
          com.google.protobuf.Any&nbsp;any)</code></th>
<td class="colLast">
<div class="block">Decode the given protobuf Any to an instance of T using Jackson but only if the suffix of the
 type URL matches the given jsonType.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;com.google.protobuf.Any</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#encodeJson(T)">encodeJson</a></span>&#8203;(T&nbsp;value)</code></th>
<td class="colLast">
<div class="block">Encode the given value as JSON using Jackson and put the encoded string as bytes in a protobuf
 Any with the type URL <code>"json.kalix.io/[valueClassName]"</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static &lt;T&gt;&nbsp;com.google.protobuf.Any</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#encodeJson(T,java.lang.String)">encodeJson</a></span>&#8203;(T&nbsp;value,
          String&nbsp;jsonType)</code></th>
<td class="colLast">
<div class="block">Encode the given value as JSON using Jackson and put the encoded string as bytes in a protobuf
 Any with the type URL <code>"json.kalix.io/[jsonType]"</code>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static com.fasterxml.jackson.databind.ObjectMapper</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getObjectMapper()">getObjectMapper</a></span>()</code></th>
<td class="colLast">
<div class="block">The Jackson ObjectMapper that is used for encoding and decoding JSON.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="KALIX_JSON">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>KALIX_JSON</h4>
<pre>public static final&nbsp;String KALIX_JSON</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../constant-values.html#kalix.javasdk.JsonSupport.KALIX_JSON">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getObjectMapper()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getObjectMapper</h4>
<pre class="methodSignature">public static&nbsp;com.fasterxml.jackson.databind.ObjectMapper&nbsp;getObjectMapper()</pre>
<div class="block">The Jackson ObjectMapper that is used for encoding and decoding JSON. You may adjust it's
 configuration, but that must only be performed before starting <a href="Kalix.html" title="class in kalix.javasdk"><code>Kalix</code></a></div>
</li>
</ul>
<a id="encodeJson(java.lang.Object)">
<!--   -->
</a><a id="encodeJson(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encodeJson</h4>
<pre class="methodSignature">public static&nbsp;&lt;T&gt;&nbsp;com.google.protobuf.Any&nbsp;encodeJson&#8203;(T&nbsp;value)</pre>
<div class="block">Encode the given value as JSON using Jackson and put the encoded string as bytes in a protobuf
 Any with the type URL <code>"json.kalix.io/[valueClassName]"</code>.

 <p>Note that if the serialized Any is published to a pub/sub topic that is consumed by an
 external service using the class name suffix this introduces coupling as the internal class
 name of this service becomes known to the outside of the service (and for exampe renaming it
 may break existing consumers). For such cases consider using the overload with an explicit name
 for the JSON type instead.</div>
</li>
</ul>
<a id="encodeJson(java.lang.Object,java.lang.String)">
<!--   -->
</a><a id="encodeJson(T,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encodeJson</h4>
<pre class="methodSignature">public static&nbsp;&lt;T&gt;&nbsp;com.google.protobuf.Any&nbsp;encodeJson&#8203;(T&nbsp;value,
                                                     String&nbsp;jsonType)</pre>
<div class="block">Encode the given value as JSON using Jackson and put the encoded string as bytes in a protobuf
 Any with the type URL <code>"json.kalix.io/[jsonType]"</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>value</code> - the object to encode as JSON, must be an instance of a class properly annotated
     with the needed Jackson annotations.</dd>
<dd><code>jsonType</code> - A discriminator making it possible to identify which type of object is in the
     JSON, useful for example when multiple different objects are passed through a pub/sub
     topic.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>IllegalArgumentException</code> - if the given value cannot be turned into JSON</dd>
</dl>
</li>
</ul>
<a id="decodeJson(java.lang.Class,com.google.protobuf.Any)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeJson</h4>
<pre class="methodSignature">public static&nbsp;&lt;T&gt;&nbsp;T&nbsp;decodeJson&#8203;(Class&lt;T&gt;&nbsp;valueClass,
                               com.google.protobuf.Any&nbsp;any)</pre>
<div class="block">Decode the given protobuf Any object to an instance of T using Jackson. The object must have
 the JSON string as bytes as value and a type URL starting with "json.kalix.io/".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>valueClass</code> - The type of class to deserialize the object to, the class must have the
     proper Jackson annotations for deserialization.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The decoded object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>IllegalArgumentException</code> - if the given value cannot be decoded to a T</dd>
</dl>
</li>
</ul>
<a id="decodeJson(java.lang.Class,java.lang.String,com.google.protobuf.Any)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>decodeJson</h4>
<pre class="methodSignature">public static&nbsp;&lt;T&gt;&nbsp;java.util.Optional&lt;T&gt;&nbsp;decodeJson&#8203;(Class&lt;T&gt;&nbsp;valueClass,
                                                   String&nbsp;jsonType,
                                                   com.google.protobuf.Any&nbsp;any)</pre>
<div class="block">Decode the given protobuf Any to an instance of T using Jackson but only if the suffix of the
 type URL matches the given jsonType.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An Optional containing the successfully decoded value or an empty Optional if the type
     suffix does not match.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>IllegalArgumentException</code> - if the suffix matches but the Any cannot be parsed into a T</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
